<% provide(:title, @staff_resource.full_name) %>

<% content_for :styles do %>
  <!-- Page -->
  <%= stylesheet_link_tag 'pages/projects.css', media: 'all' %>
<% end %>

<% content_for :scripts do %>

  <%= javascript_include_tag 'pages_projects_item.js' %>
<% end %>

<!--
=================================================================
**************************** CONTENT ****************************
-->

<h4 class="d-flex flex-wrap justify-content-between align-items-center font-weight-bold pt-2 mb-4">
  <div class="mb-2">
    <ol class="breadcrumb font-weight-bold m-0">
      <li class="breadcrumb-item"><%= link_to 'Staff Resources', staff_resources_path %></li>
      <li class="breadcrumb-item active"><small><%= @staff_resource.full_name %></small></li>
    </ol>
  </div>
  <div class="mb-2" style="max-width: 200px;">
    <%= link_to edit_staff_resource_path(@staff_resource), class: "btn btn-primary" do %>
      <span class="ion ion-md-arrow-round-forward"></span>&nbsp;&nbsp;Edit Staff
    <% end %>
  </div>
</h4>

<div class="row">
  <div class="col">
    <!-- Tabs -->
    <div class="nav-tabs-top mb-4">
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#staff-skills">Skills</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#staff-roles">Roles</a>
        </li>
      </ul>
      <div class="tab-content">

        <!-- Tasks -->
        <div class="tab-pane fade active show" id="staff-skills">

          <div class="card-body">
            <table class="table table-striped">
              <thead>
              <tr>
                <th>Skill</th>
                <th>Level</th>
              </tr>
              </thead>
              <tbody>
              <% @staff_resource.staff_resource_skills.each do |srs| %>
                <tr>
                  <th scope="row"><%= link_to srs.skill.name, skill_path(srs.skill) %></th>
                  <td><%= srs.level %></td>
                </tr>
              <% end %>
              </tbody>
            </table>
          </div>
        </div>

        <div class="tab-pane fade" id="staff-roles">

          <div class="card-body">
            <table class="table table-striped">
              <thead>
              <tr>
                <th>Role</th>
                <th>Level</th>
              </tr>
              </thead>
              <tbody>
              <% @staff_resource.staff_resource_roles.each do |srr| %>
                <tr>
                  <th scope="row"><%= link_to srr.role.name, role_path(srr.role) %></th>
                  <td><%= srr.level %></td>
                </tr>
              <% end %>
              </tbody>
            </table>
          </div>
        </div>
        <!-- / Tasks -->
      </div>
    </div>
    <!-- / Tabs -->
  </div>

  <div class="col-md-6 col-xl-4">
    <!-- Details -->
    <div class="card mb-4">
      <h6 class="card-header">Staff details</h6>
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Name</div>
          <div><%= @staff_resource.full_name %></div>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Grade</div>
          <div>
            <%= if @staff_resource.grade
                  @staff_resource.grade.name
                else
                  'Unknown'
                end
            %>
            </div>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Email</div>
          <div><%= @staff_resource.email_address %></div>
        </li>
      </ul>
    </div>
    <!-- / Details -->
  </div>
</div>
